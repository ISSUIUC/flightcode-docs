<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Spaceshot Flight Software: KalmanFilter Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Spaceshot Flight Software
   </div>
   <div id="projectbrief">The Illinois Space Society&#39;s Homemade Rocket Firmware</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('class_kalman_filter.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="class_kalman_filter-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">KalmanFilter Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:aeeaac15ec3f86f54d436bf4b583396a2"><td class="memItemLeft" align="right" valign="top"><a id="aeeaac15ec3f86f54d436bf4b583396a2"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>KalmanFilter</b> (struct <a class="el" href="structpointers.html">pointers</a> *pointer_struct)</td></tr>
<tr class="separator:aeeaac15ec3f86f54d436bf4b583396a2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a590f337afb31bb643457c553d1ddd9bd"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_kalman_filter.html#a590f337afb31bb643457c553d1ddd9bd">Initialize</a> ()</td></tr>
<tr class="memdesc:a590f337afb31bb643457c553d1ddd9bd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets altitude by averaging 30 barometer measurements taken 100 ms apart.  <a href="class_kalman_filter.html#a590f337afb31bb643457c553d1ddd9bd">More...</a><br /></td></tr>
<tr class="separator:a590f337afb31bb643457c553d1ddd9bd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9a4d02bada7b13718016837e7b33c6a3"><td class="memItemLeft" align="right" valign="top"><a id="a9a4d02bada7b13718016837e7b33c6a3"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>Initialize</b> (float pos_f, float vel_f)</td></tr>
<tr class="separator:a9a4d02bada7b13718016837e7b33c6a3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a84c40d7458e09e29a8bd8be2ca379038"><td class="memItemLeft" align="right" valign="top"><a id="a84c40d7458e09e29a8bd8be2ca379038"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>priori</b> ()</td></tr>
<tr class="separator:a84c40d7458e09e29a8bd8be2ca379038"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0683a07b11f424b766636dee9ef65582"><td class="memItemLeft" align="right" valign="top"><a id="a0683a07b11f424b766636dee9ef65582"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_kalman_filter.html#a0683a07b11f424b766636dee9ef65582">update</a> ()</td></tr>
<tr class="memdesc:a0683a07b11f424b766636dee9ef65582"><td class="mdescLeft">&#160;</td><td class="mdescRight">Update Kalman Gain. <br /></td></tr>
<tr class="separator:a0683a07b11f424b766636dee9ef65582"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4fcd7ff45816b44d6c92f37a33665f8f"><td class="memItemLeft" align="right" valign="top"><a id="a4fcd7ff45816b44d6c92f37a33665f8f"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>SetQ</b> (float dt, float sd)</td></tr>
<tr class="separator:a4fcd7ff45816b44d6c92f37a33665f8f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a18fdcc34acc30bfd0a6f01d11073ceb5"><td class="memItemLeft" align="right" valign="top"><a id="a18fdcc34acc30bfd0a6f01d11073ceb5"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>SetF</b> (float dt)</td></tr>
<tr class="separator:a18fdcc34acc30bfd0a6f01d11073ceb5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acaa866ba64e7f0deba6b7549d648441e"><td class="memItemLeft" align="right" valign="top"><a id="acaa866ba64e7f0deba6b7549d648441e"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_kalman_filter.html#acaa866ba64e7f0deba6b7549d648441e">kfTickFunction</a> (float dt, float sd)</td></tr>
<tr class="memdesc:acaa866ba64e7f0deba6b7549d648441e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Run Kalman filter calculations as long as FSM has passed IDLE. <br /></td></tr>
<tr class="separator:acaa866ba64e7f0deba6b7549d648441e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a590f337afb31bb643457c553d1ddd9bd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a590f337afb31bb643457c553d1ddd9bd">&#9670;&nbsp;</a></span>Initialize()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void KalmanFilter::Initialize </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets altitude by averaging 30 barometer measurements taken 100 ms apart. </p>
<p>The following for loop takes a series of barometer measurements on start up and takes the average of them in order to initialize the kalman filter to the correct initial barometric altitude. This is done so that the kalman filter takes minimal time to converge to an accurate state estimate. This process is significantly faster than allowing the state as letting the filter to converge to the correct state can take up to 3 min. This specific process was used because the barometric altitude will change depending on the weather and thus, the initial state estimate cannot be hard coded. A GPS altitude may be used instead but due to GPS losses during high speed/high altitude flight, it is inadvisable with the current hardware to use this as a solution. Reference frames should also be kept consistent (do not mix GPS altitude and barometric). </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>flight/mcu/lib/teensyShared/<a class="el" href="kalman_filter_8h_source.html">kalmanFilter.h</a></li>
<li>flight/mcu/lib/teensyShared/<a class="el" href="kalman_filter_8cpp.html">kalmanFilter.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="class_kalman_filter.html">KalmanFilter</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
